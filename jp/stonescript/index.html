<!DOCTYPE html>
<html><head><meta name="viewport" http-equiv="Content-Type" content="text/html; charset=UTF-8; width=device-width; initial-scale=1; minimum-scale=1">

<meta content="明瞭の石チュートリアル" property="og:title">
<meta content="Stone Story RPGで最も強力な遺物の1つ、明瞭の石の使い方を学びましょう。" property="og:description">
<meta content='https://stonestoryrpg.com/mind_stone.png' property='og:image'>
<meta name="theme-color" content="#ffffff">
<meta name="twitter:card" content="summary_large_image">
<link type="application/json+oembed" href="https://stonestoryrpg.com/faq.json" /> 

<title>明瞭の石チュートリアル</title>

<link rel="stylesheet" href="https://stonestoryrpg.com/faq-fixed.css" type="text/css" media="only screen and (min-device-width: 891px)" />
<link rel="stylesheet" href="https://stonestoryrpg.com/faq-stretch.css" type="text/css" media="only screen and (max-width: 890px)" />

<style type="text/css">
	eg {
		color: #707070;
	}
</style>

</head>
<body><div id="content">
<f>
<div id="logo"><a href="https://StoneStoryRPG.com" target="_blank"><img src="https://stonestoryrpg.com/capsule_b_231x87.png" alt="Stone Story RPG" align="middle"></a></div>

<answer><center><a href="https://stonestoryrpg.com/stonescript">English</a> | 日本語</center></answer>
<div id="title-separator"><!---------------------------></div>

<center>· ·:·: 明瞭の石チュートリアル :·:· ·</center>
<div id="title-separator"><!---------------------------></div>

<answer><center>入門 | <a href="https://stonestoryrpg.com/jp/stonescript/manual.html">マニュアル</a> | <a href="https://stonestoryrpg.com/jp/stonescript/beta.html">ベータ</a>  ·:·  <a href="https://stonestoryrpg.com/jp/releasenotes">リリースノート</a> | <a href="https://stonestoryrpg.com/faq.html">よくある質問</a></center></answer>
<center><font color="#808080">
      _ ______________________ _            
  ,:´      \____        __.---<font color="#ffffff">,.</font> `.         
 :.!  __________\_______\__`--<font color="#ffffff">`´</font>__ \        
 :' \ \--------------------------.\ \       
 ':' · \ <font color="#ffffff">·:. :'· :.:·             </font>\\ \      
  ':' \ \ <font color="#ffffff">:·' :·:.                 </font>\\ \     
   ':' · \ <font color="#ffffff">.: ·:: '.:. ':'··:.      </font>\\ \    
    ':' \ \ <font color="#ffffff">· :..                    </font>\\ \   
     ':' · \ <font color="#ffffff">:·: ..': :·:. ·:: '.     </font>\\ \  
      ':' \ \__________________________\\ \ 
       ':' `     .         \         .     )
        ':' . . . \ . . . . ' . . . . \ . .;
          `·.;,;,;,;,;,;,;,;,;,;,;,;,;,;,:' 
</font></center>
</f>
<f>
このチュートリアルで学べること：<font color="#bbbbbb">
明瞭の石を使って枯木の渓谷を自動周回する方法</font>

所要時間：<font color="#bbbbbb">
約20分</font>

必要な前提知識と準備：<font color="#bbbbbb">
- 侵食の「ナーガラージャ」を倒している。
- エリア内で自動で武器が切り替わることの戦略的価値を理解する。
- 大釜を作り、回復ポーションを作れるようにする。
- ウロボロスの石がエリアをループすることを理解する。</font>

必要なアイテム：<font color="#bbbbbb">
- 剣、盾、クロスボウをそれぞれ☆4以上。
- タールが80以上。
- 大釜の自動補充を有効にすること。


明瞭の石は非常に強力な遺物です。その目的は、エリアを走ってる途中で武器を持ち替えたり、ポーションを使ったりといった行動を自動化することです。指示はゲーム内のAIに送られ、何をすべきかを指示する。明瞭の石に正しく指示を書き込めれば、プレイヤーキャラクターが即座に適応し、手動では出来ない超人的な行動が可能になります。

この遺物は、Stone Storyのカスタマイズやコスメティックの入り口でもあります。他プレイヤーの作品を探したり、自分の作品を作ることもできます！ペット、帽子、カスタムインターフェイス、さらにはミニゲームまで、さまざまな要素があります。<a href="https://steamcommunity.com/sharedfiles/filedetails/?id=2003221477" target="_blank">コスメティックやMODについてはこちらから</a>。

明瞭の石の指示は、誰でも使えるように設計された最小限の言語、"Stonescript"で書かれています。キーボードさえ打てれば今すぐにでもStonescriptを使うことができます！プログラミングの知識は必要ありません！しかし、より深く理解したい場合は、<a href="https://stonestoryrpg.com/stonescript/manual.html">Stonescriptマニュアル</a>を参照してください。

助けがほしい？共同でスクリプトを作りたい？ぜひ<a href="https://discord.gg/StoneStoryRPG" target="_blank">Discordサーバー</a>に参加してください！


それでは書いてみよう！

</font></f>
<div id="example"><div id="separator"><!---------------------------></div>

·:·:· 1. 明瞭の石をまっさらにしよう ·:·:·
<f><font color="#bbbbbb">
明瞭の石にデフォルトで表示されているテキストを全て選択し、削除しましょう。もし望むなら、<eg>賢者ベゼラ</eg>の書き置きを残すこともできます。<eg>//</eg>から始まるテキストはAIに無視されるため、なんの影響も及ぼすことはありません。

ヒント：全てを選択するショートカットは Ctrl + A です。

        _.,·─·──·────┬───────────────────────·──·─·.,_
     .:´             |                                `-.
   .:'               └--------┐                Power     `.
  /:'                         |          ____,---╓───┐    `\
 ,:'                          ◘         │    '---╙───┘      \
 :'                                     |                   `.
:.'  ╔══════════════════════════════════╧═══════════════╕    |
:.|  ║                                                  │   '/
:.!  ║                                                  │   ´!
:.   ║                                                  │    |
:.'  ║                                                  │   '|
:.   ║                                                  │    |
:.'  ║                                                  │   '|
:.   ║                                                  │    |
!.'  ║                                                  │   '|
:.   ║                                                  │    |
:.'  ║                                                  │   '|
:.|  ║                                                  │    |
:.'  ║                                                  │   '|
:.   ║                                                  │   .(
:.'  ║                                                  │   '|
:.   ║                                                  │    |
:.'  ║                                                  │   '|
:.|  ║                                                  │    |
:.'  ╙────────────────────────┬─────────────────────────┘   ';
':.\           .              |              .             ./
 '::.`-        |              °              |            .'
   '':.:.:.:.:.|.:.:.:.:.:.:.:.:.:.:.:.:.:.:.|.:.:.:.:.:·`
</font></f>
<div id="example"><div id="separator"><!---------------------------></div>

·:·:· 2. 回復ポーションを使ってみよう ·:·:·
<f>
 )(
(~≈)
 ¯¯
<font color="#bbbbbb">指示とは、人間が持つ常識をゲームのAIが理解出来るように変換することです。例えば、瀕死状態になったら回復ポーションを使うのが普通ですよね？

そのためのコマンドがあります。以下の内容を明瞭の石に入力しましょう：

<eg>
activate potion
</eg>

これはAIに"ポーションを発動する"よう指示するコマンドです。どこかのエリアに入るとAIは毎フレーム、継続的にポーションを発動しようと試みます。そして、体力が少しでも程度減ったらすぐに発動します。しかし、ラッキーポーションなどの攻撃系ポーションを持っている場合、エリアに入った瞬間すぐに発動してしまいます。おそらく望ましい結果にはならないので、より適切な指示に改善しましょう。

例えば、このような指示を考えることができます：

<eg>
"もし、HPが低くなったら、ポーションを発動する"
</eg>

この考えをStonescriptに変換し、明瞭の石を以下のように修正しましょう：

<eg>
?hp < 7
  activate potion
</eg>

最初の行の<eg>?hp < 7</eg> は、<eg>"自分のHPは7未満ですか？"</eg>という質問をしています。人間の言語とは逆に、ゲームでは行の最初に疑問符を付けることで、それが"質問"であると認識します。(¿スペイン語の疑問符みたいな使い方ですね?)

また、<eg>activate potion</eg>の前にスペースが追加されていることに注目してください。このスペースは重要で、上の行の質問に依存する指示である事を示しています。そのため、上記の質問の答えが<eg>"はい"</eg>の場合のみ実行されます。
</font></f>
<div id="example"><div id="separator"><!---------------------------></div>

·:·:· 3. 実行してみよう ·:·:·
<f><font color="#bbbbbb">
  \|' /´,  
 `|    /  ,
 /\ /  `-´-
 \ò ó` /´  
 |   , (   
 '¡'!| |   
 |-'´ _'-. 
¯'_/`´·\  `

明瞭の石に電源を入れ、淹れたての回復ポーションを持って、危険ななエリアに向かいましょう。敵からの攻撃を受け、HPが7未満になると自動的にポーションが発動するはずです。

ヒント：エリア内で明瞭の石を開くには、'M'キーを押します。わざわざ作業台に戻る必要はありません。明瞭の石を閉じると、スクリプトが再読み込みされ、新しく書かれた指示が反映されます。
</font></f>
<div id="example"><div id="separator"><!---------------------------></div>

·:·:· 4. 武器を持たせてみよう ·:·:·
<f>
│ O__
┼/|)_)
 / \
<font color="#bbbbbb">
このチュートリアルの目的は枯木の渓谷を完全自動周回させることです。。通常の剣、盾の組み合わせである程度の難易度まではクリアするのに十分なので、まずはこれを基準にしましょう。

明瞭の石の1番下に、以下の内容を書き加えましょう：

<eg>
equipL sword
equipR shield
</eg>

<eg>equip</eg>コマンドは、その名の通り"装備する"ための指示です。インベントリから武器を見つけて装備します。コマンドの右側にあるテキストは、指示の追加の詳細です。<eg>L</eg>と<eg>R</eg>は、それぞれ左右どちらかの手に装備するかを示します。装備する武器をより具体的に指定することもできます。おそらくインベントリにはたくさんの剣があるはずなので、例えば7つ星の剣を装備したい場合、<eg>*7</eg>を追加しましょう：<eg>equipL sword *7</eg> 追加の詳細がなければ、AIは自動的に最も強い武器を見つけて装備します。特に問題なければ、そのままでも十分でしょう。
</font>
   |/) 
 o.-._ 
´ /|`-`
  `'   
<font color="#bbbbbb">
一般的にはこれで十分ですが、大きな吸血蚊相手にはクロスボウを装備し、その敵からのダメージを完全に回避したほうがいいでしょう。大きな吸血蚊は、単体では非常に弱いですが、大群で襲ってくるため、大ダメージを受ける可能性があります。そこで以下の内容を入力しましょう：

<eg>
?foe = mosquito
  equip crossbow
</eg>

<eg>foe</eg>というキーワードを使用すると、AIが現在ターゲットにしている敵の種類を判別し、それがどのような敵であるかに基づいて適切な行動を取ることが可能です。

この<eg>equip</eg>コマンドに<eg>L</eg>や<eg>R</eg>の指定がないことに気づきましたか？クロスボウについては、詳細を指定せず、AIに最適な装備方法を判断させてシンプルなままにしておきましょう。

ここまでの内容を反映すると、スクリプトは次のようになります：

<eg>
?hp < 7
  activate potion

equipL sword
equipR shield
?foe = mosquito
  equip crossbow
</eg>

ここで重要なのは、スクリプトは上から順番に実行されるという点です。まずポーションの使用をチェックし、その後に剣と盾を装備します。最後に､現在の敵が大きな吸血蚊であればクロスボウに持ち替えます。スクリプト全体は1秒間に30回実行されます。

すべてが正しく動作しているか確認するために、枯木の渓谷へ行ってみましょう。スクリプトが想定通りに動作していて、現在の武器でもクリアできる難易度のエリアであれば、ウロボロスの石でループして周回できるはずです。ただし、ポーション用のタールが尽きるか、インベントリが宝箱でいっぱいになるまでは、という条件付きです。
</font></f>
<div id="example"><div id="separator"><!---------------------------></div>

·:·:· 5. 木を伐採してみよう ·:·:·
<f><font color="#bbbbbb">
    \|
     |, |/
  \| |  /-'
`-─\ | /_/─,
    \'//
  '\} {
    { }
    } {
   //\`\

枯木の渓谷で木に近づいたとき、ついでに木の枝を集めたいと思うかもしれません。
スクリプトの最後に、次の内容を追加しましょう：

<eg>
?harvest.distance < 10
  equip hatchet
</eg>

この場合、<eg>L</eg>や<eg>R</eg>の指定は不要です。なぜなら、手斧は右手にしか装備できないためです。

さっそく枯木の渓谷へ行き、スクリプトの変更を試してみましょう！
</font></f>
<div id="example"><div id="separator"><!---------------------------></div>

·:·:· 6. 周回を安定させてみよう ·:·:·
<f><font color="#bbbbbb">       ____,
    _.-·´ o/`___
  ,´  _.-._\¯¯`-.`.
 /  ,´           `.`.
|  :              | :
|  :.            .' ;
 \  `':.,,,,,..·´ ,´
   `-._       _,-´
        ¯¯¯¯¯
この時点で、スクリプトは機能していますが、装備の星レベルやエリアの難易度によっては、敵から受けるダメージが多すぎる場合があります。そこで、装備している間に徐々に回復できるウロボロスの石を装備するように、スクリプトを改良しましょう。

次の内容を追加しましょう：

<eg>
?foe ! boss & foe.distance > 8
  equipL ouroboros
</eg>

ここでの質問は少し複雑なので、分解して説明しましょう。1行目の前半の部分、<eg>foe ! boss</eg>は<eg>"敵はボスではない"</eg>という意味です。感嘆符(!)は、等号(=)と逆の意味を持ちます。

続いて、1行目の後半部分、<eg>foe.distance > 8</eg>は<eg>"プレイヤーと敵との距離が8より大きいか？"</eg>という意味です。これら2つの質問は、<eg>&(AND)</eg>シンボルによって1つの条件式にまとめられています。

つまりこの指示全体は、

<eg>
"敵がボスではなく、かつプレイヤーとの距離が8より大きければ、左手にウロボロスの石を装備する"
</eg>

ヒント：敵との距離が<eg>8</eg>より上という内容では、接敵中にウロボロスの石で敵を攻撃します。これは装備が弱い場合に有効です。しかし、敵との距離を<eg>8</eg>ではなく<eg>17</eg>にすると、ウロボロスの石で敵を攻撃することは無くなり、ループ時間が短縮されることでしょう。これはウロボロスの石の攻撃範囲が<eg>17</eg>だからです。<eg>8</eg>にすると、敵に近づいた際にのみ剣を装備するようになります。
</font></f>
<div id="example"><div id="separator"><!---------------------------></div>

·:·:· 7. 素材を回収してみよう ·:·:·
<f>
   ,
 _/-'
<font color="#bbbbbb">
プレイ中の遅延の原因となるものの1つが、地面に落ちているアイテムの取得です。枯木の渓谷では、それが木の枝になります。幸運なことに、星の石を装備すると、周囲のアイテムを吸い寄せることができ、移動速度も大幅に向上します。

次の内容を追加しましょう：

<eg>
?pickup.distance < 10
  equipL star
</eg>

<eg>foe.distance</eg>と同様に、この指示では次の取得アイテムまでの距離が<eg>10</eg>ユニット未満かどうかを確認しています。もしそうであれば、左手に星の石を装備します。なお、ここでは<eg>star</eg>とだけ記述していますが、ほかに<eg>star</eg>という名前のアイテムは存在しないため、これで問題ありません。
</font></f>
<div id="example"><div id="separator"><!---------------------------></div>

·:·:· 8. スクリプトをグループ化しよう ·:·:·
<f><font color="#bbbbbb">
これで、枯木の渓谷を周回するためのスクリプトは完成しました！しかし、現状ではこれらの指示が全てのエリアで実行されてしまいます。そこで、それぞれのエリアで特定の指示を行えるよう、特定のエリアでのみスクリプトが実行されるようにグループ化しましょう。

現在のエリアを確認するには、<eg>loc</eg>というキーワードを使用します。

スクリプトの一番上に、以下を追加してください：

<eg>
?loc = deadwood
</eg>

そして、その後に続くすべての行の前にスペースを追加して、これらがエリア条件に依存する形にします。  
スクリプト全体は次のようになります：

<eg>
?loc = deadwood
  ?hp < 7
    activate potion
  
  equipL sword
  equipR shield
  ?foe = mosquito
    equip crossbow
  
  ?harvest.distance < 10
    equip hatchet

  ?foe ! boss & foe.distance > 8
    equipL ouroboros
  
  ?pickup.distance < 10
    equipL star
</eg>

ヒント: ここから、または他のプレイヤーのスクリプトをコピーして、Ctrl+C / Ctrl+V で明瞭の石に貼り付けることができます。
</font></f>
<div id="example"><div id="separator"><!---------------------------></div>

·:·:· 次はどうする？ ·:·:·
<f>
     .-.
     \ ´ .-.
,-.   )  \ ´
'- `-/¯\-´
 .· /`°´\ ·.
 `-´     `-´
<font color="#bbbbbb">
以下に外部リソースやミニチュートリアルを紹介します。


リンク集

このチュートリアルで困ったことがありますか？他のエリアでの助けが必要ですか？<a href="https://discord.gg/StoneStoryRPG" target="_blank">Discordコミュニティ</a>に参加してみましょう。

Stone Storyコミュニティが作成した楽しい<a href="https://steamcommunity.com/sharedfiles/filedetails/?id=2003221477" target="_blank">コスメティックやミニゲーム</a>を探してみましょう。

もっと深く学びたいですか？<a href="https://stonestoryrpg.com/stonescript/manual.html">Stonescriptマニュアル</a>ですべてを学べます。



吸血

もし吸血効果を持っている活力属性の剣(dL)を持っているなら、回復ポーションだけに頼るのではなく、それを活用してHPを管理するのがオススメです。これにより、生存率が大幅に向上します。(ついでにタールの節約にもなります)

<eg>
  ?hp < maxhp & foe.distance < 7
    equipL sword dL
</eg>

毒

攻撃を弱体化させるデバフを与えられる毒属性の武器(dP)があれば、ボスからのダメージを軽減することができます。これもまた、ポーションの使用を減らし、生存率を大きく向上させます。これにより、最小限の装備で高難易度のエリアに挑戦可能です。

<eg>
  ?foe = boss & foe.debuffs.count = 0
    equipR dp
</eg>

このスクリプトでは、毒効果が残っている間に再度適用してしまわないように、デバフの数をチェックしています。


高速移動

プレイヤーたちは、ループ時間を短縮するためにダッシュの盾、トリスケルの石、六尺棒などの能力をよく使います。以下は一例です。

<eg>
  ?foe.distance >= 11 & foe.distance <= 16
    equipR dashing
</eg>


能力発動

ここから少し複雑になります。よくある質問の1つが「能力をどうやって発動させるか？」です。手斧や堕神の剣のようなものは簡単ですが、よくプレイヤーを悩ませるアイテムがバルディッシュです。

<eg>
?foe = boss & foe.distance <= 10 &
^item.GetCooldown("bardiche") <= 0 |
^item.GetCooldown("bardiche") > 870
  equip bardiche
  activate R
</eg>

ここで新しく登場する記号に前の行の続きを意味する <eg>^</eg> と、「または」を意味するOR演算子 <eg>|</eg> があります。

この例では、ボス(<eg>?foe = boss</eg>)が範囲内(<eg>foe.distance <= 10</eg>)にいるとき、<eg>equip bardiche</eg>で装備し、<eg>activate R</eg>で能力を発動します。さらに、<eg>item.GetCooldown()</eg>を使って、バルディッシュの能力のクールダウン時間をチェックしています。

クールダウン情報を活用して、能力発動中にのみバルディッシュを装備するようにします。瞬時に発動する能力とは違い、バルディッシュにはキャスト時間があるため、その間は装備し続ける必要があります。能力発動中に他の装備に切り替えると能力はキャンセルされ、攻撃できないままクールダウンに入ってしまいます。ここで出てくる<eg>870</eg>という数字は、フレーム数で表現されたクールダウン時間から来ています。ゲームでは、1秒が30フレームとされており、バルディッシュのクールダウンは30秒で900フレームです。能力発動から攻撃までのキャスト時間は1秒(30フレーム)で、その分を引いた数が870フレームというわけです。

バルディッシュの動作状況を視覚的に確認したい場合は、以下を追加してみましょう：

<eg>
var cd
cd = item.GetCooldown("bardiche")
>`0,0,バルディッシュのクールダウン = @cd@
</eg>

この指示は、画面左上にバルディッシュのクールダウンを表示させるものです。能力を発動すると900になり、そこから0までカウントダウンされる様子が確認できます。

</font></f>
<div id="example"><div id="separator"><!---------------------------></div>


<a href="#"><font color="#505050">トップへ戻る</font></a>
</div>


<font color="#505050">
Copyright Martian Rex, Inc. 2020

</font>
</div>

<br>
</body></html>